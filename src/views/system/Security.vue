<template>
  <div class="main">
    <div class="title">å®‰å…¨è®¾ç½®</div>
    <a-spin size="large" :spinning="spinning">
      <div>
        <a class="item-title" type="link">è´¦å·å¯†ç </a>
        <a-button class="btn" @click="passwordVisible = true" type="link">ä¿®æ”¹</a-button>
        <p class="des">è´¦å·å¯†ç ï¼š {{ show ? "123456" : '********' }}
<!-- 		<p class="des">è´¦å·å¯†ç ï¼š {{ show ? this.$store.state.user.details.password : '********' }} -->
          <a @click="show = !show" style="padding-left: 10px">
            <a-icon :type="!show ? 'eye' : 'eye-invisible' "/>
          </a>
        </p>
        <a-divider/>
      </div>
      <div>
        <a class="item-title" type="link">ç»‘å®šé‚®ç®±</a>
        <a-button class="btn" @click="emailVisible = true" type="link">ä¿®æ”¹</a-button>
        <!-- <p class="des">å·²ç»‘å®šé‚®ç®±ï¼š {{ this.$store.state.user.details.email }}</p> -->
		<p class="des">å·²ç»‘å®šé‚®ç®±ï¼š "ä¹”ä¿Šæ˜¯ğŸ–"</p>
        <a-divider/>
      </div>
    </a-spin>

    <a-modal
        title="å¯†ç ä¿®æ”¹"
        :visible="passwordVisible"
        @ok="submit"
        @cancel="passwordVisible = false"
    >
      <a-form-model :model="admin">
        <a-form-model-item label="å¯†ç ">
          <a-input v-model="admin.password"/>
        </a-form-model-item>
      </a-form-model>
    </a-modal>
    <a-modal
        title="é‚®ç®±ä¿®æ”¹"
        :visible="emailVisible"
        @ok="submit"
        @cancel="emailVisible = false"
    >
      <a-form-model :model="admin">
        <a-form-model-item label="ç»‘å®šé‚®ç®±">
          <a-input v-model="admin.email"/>
        </a-form-model-item>
      </a-form-model>
    </a-modal>
  </div>
</template>

<script>
//import {SaveAdmin} from "@/api/admin";

export default {
  name: "Me",

  data() {
    return {
      //admin: this.$store.state.user.details,
	  admin :{email:"ä¹”ä¿Šæ˜¯çŒª",password:"ä¹”ä¿Šä½ å¥½"},
      show: false,
      emailVisible: false,
      passwordVisible: false,
      spinning: false,
    }
  },

  mounted() {
    this.load()
  },


  methods: {

    load() {
      this.spinning = true
      setTimeout(() => {
        this.spinning = false
      }, 500)
    },

    submit() {
      // SaveAdmin(this.admin).then((res) => {
      //   if (res.status) {
      //     this.$message.success("è´¦å·ä¿¡æ¯ä¿®æ”¹æˆåŠŸ")
      //     this.$store.commit('user/saveLoginUser', res.data)
      //   }
      // })
      this.emailVisible = false
      this.passwordVisible = false
      this.load()
    },

  }

}
</script>

<style scoped>
.main {
  background: #ffffff;
  padding: 50px 70px;
}

.title {
  letter-spacing: 1px;
  font-size: 20px;
  font-weight: bolder;
  color: #000000;
  margin-bottom: 30px;
}

.btn {
  float: right;
}

.item-title {
  color: rgba(0, 0, 0, .8);
  line-height: 35px;
}

.item-title:hover {
  color: #5a84fd;
}

.des {
  color: rgba(0, 0, 0, .5);
}
</style>